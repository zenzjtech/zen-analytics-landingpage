# Change Log - 2025-12-05

## Performance
- Added `Cache-Control` headers in `firebase.json` for static media assets (images, videos) to improve load times and caching behavior.
  - Contributor: Cascade

## Font Loading Optimization
- **Description**: Optimized Google Fonts loading to eliminate render-blocking requests that were delaying LCP by ~410ms
- **Changes Made**:
  - Created new font configuration file (`src/global/fonts.ts`) using Next.js `next/font/google` for Plus Jakarta Sans
  - Updated theme (`src/theme.ts`) to use the optimized font configuration instead of hardcoded font family
  - Removed manual Google Fonts `<link>` tags from both marketing and main layout files (`src/app/(marketing)/layout.tsx` and `src/app/(main)/layout.tsx`)
  - Removed explicit font family override from Header component (`src/components/layout/Header.tsx`)
- **Impact**: Improved page load performance by making font loading non-blocking
- **Person**: AI Assistant

## Image Optimization
- **Description**: Optimized carousel images by implementing responsive image loading to reduce download sizes
- **Changes Made**:
  - Generated smaller versions (400px and 800px widths) of all carousel WebP images
  - Updated Carousel component to use srcset and sizes attributes for responsive image loading
- **Impact**: Reduced image file sizes for better performance on smaller screens
- **Author**: Cascade

## Lazy Loading Implementation
- **Description**: Added lazy loading to carousel images to improve initial page load performance
- **Changes Made**:
  - Added loading="lazy" attribute to carousel image elements
- **Impact**: Defers loading of carousel images until they are needed, improving initial page load
- **Author**: Cascade

## Browser Logo Optimization
- **Description**: Optimized browser logo images by implementing responsive image loading to reduce download sizes
- **Changes Made**:
  - Generated smaller versions (64px and 128px) of all browser WebP logos
  - Updated BrowserSupport component to use srcset and sizes attributes for responsive loading
  - Changed Brave logo to use WebP format for consistency
  - Added lazy loading to browser logo images
- **Impact**: Reduced logo file sizes from up to 65KB to ~1-2KB for appropriate display size
- **Author**: Cascade

## Metadata Optimization
- **Description**: Updated page metadata for better SEO and Lighthouse scores
- **Changes Made**:
  - Changed title from "My App" to "Zen Analytics Pixel Tracker - Unified Analytics Interface"
  - Added proper meta description about the extension functionality
- **Impact**: Improved SEO and eliminated missing title/description warnings
- **Person**: Cascade

## Image Dimensions Fix
- **Description**: Added explicit width and height attributes to img elements to prevent layout shifts
- **Changes Made**:
  - Updated Carousel component images to use native <img> tags with width/height attributes
  - Updated BrowserSupport component logos similarly
  - Converted MUI Box components to native img elements where needed
- **Impact**: Eliminated cumulative layout shift issues flagged by Lighthouse
- **Person**: Cascade

## Analytics Loading Optimization
- **Description**: Moved analytics trackers from synchronous head loading to lazy loading after page load
- **Changes Made**:
  - Created new AnalyticsLoader client component with dynamic imports
  - Removed all tracker components from layout head
  - Implemented 2-second delay before loading analytics to prioritize content
- **Impact**: Reduced initial JavaScript execution time from 1.3s by deferring non-critical analytics
- **Person**: Cascade

## Security Headers Implementation
- **Description**: Added comprehensive security headers to improve best practices score
- **Changes Made**:
  - Added Content Security Policy allowing necessary domains
  - Added X-Frame-Options: DENY to prevent clickjacking
  - Added X-Content-Type-Options: nosniff
  - Added Referrer-Policy: strict-origin-when-cross-origin
- **Impact**: Improved security posture and eliminated CSP/XSS warnings
- **Person**: Cascade

## Code Cleanup
- **Description**: Removed unused imports and optimized bundle
- **Changes Made**:
  - Removed unused ModeSwitch import from marketing layout
  - Cleaned up tracker-related imports in layout
- **Impact**: Reduced bundle size and eliminated dead code
- **Person**: Cascade

## Welcome Page Responsiveness and Navigation
- **Description**: Enhanced the responsiveness of the Welcome page for smaller desktops (12xx px) and added a navigation button.
- **Changes Made**:
  - Adjusted layout spacing (padding, margins, gaps) in `src/app/(marketing)/welcome/page.tsx` to ensure content fits in the viewport without scrolling on smaller screens.
  - Added a "Home" button at the top (absolute positioned on desktop, centered block on mobile) to navigate back to the landing page.
  - Limited video max-height to avoid vertical overflow.
- **Impact**: Improved user experience on smaller desktop screens and provided a way to navigate back home.
- **Person**: Cascade
